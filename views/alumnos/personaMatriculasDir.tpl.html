 <div class="widget"> <div class="widget-body"> <uib-accordion close-others="false"> <div uib-accordion-group is-open="$first" ng-repeat="matricula in matriculas" class="panel-default margin-padding-lados-xs panel-acordeon"> <uib-accordion-heading>Año<span style="font-weight: bold;"> {{matricula.year}}</span><span ng-show="matricula.grupo_nombre"> - {{matricula.grupo_nombre}}</span></uib-accordion-heading> <h4 style="font-weight: 600!important;" ng-show="::matricula.requisitos.length &gt; 0">Requisitos para matricular en {{matricula.year}}</h4> <form role="form" ng-show="::USER.profes_pueden_editar_notas || hasRoleOrPerm('Admin')" ng-repeat="requisito in matricula.requisitos | orderBy:'orden' " style="border: 1px solid #ccc; border-radius: 5px; margin: 4px 0; padding: 4px 0;" ng-class="{'requisito-falta': requisito.estado=='falta'}" class="form-inline row"> <div style="padding-right: 0px; min-height: 50px;" uib-tooltip="{{requisito.descripcion_titulo}}" tooltip-popup-delay="500" class="form-group col-md-3 col-sm-4 col-xs-12 si-padding-left-xs"> <label>{{requisito.requisito}}</label> </div> <div uib-tooltip="Estadoa actual" style="padding: 0;" class="form-group col-lg-3 col-md-3 col-sm-3 si-padding-left-xs"><span style="padding-left: 2px; padding-top: 4px;" class="btn-group"> <label ng-model="requisito.estado" uib-btn-radio="'falta'" ng-click="guardarCambioRequisito(requisito)" class="btn btn-info">Falta</label> <label ng-model="requisito.estado" uib-btn-radio="'ya'" ng-click="guardarCambioRequisito(requisito)" class="btn btn-info">Ya</label> <label ng-model="requisito.estado" uib-btn-radio="'n/a'" ng-click="guardarCambioRequisito(requisito)" class="btn btn-info">N/A</label></span></div> <div class="form-group col-md-6 col-sm-5 col-xs-12 si-padding-left-xs"> <label class="sr-only">Escriba una descripción</label> <textarea required ng-model="requisito.descripcion" placeholder="Descripción (opcional)" uib-tooltip="Descripción (opcional)" tooltip-popup-delay="500" style="height: 50px; width: 100%;" ng-change="guardarCambioRequisito(requisito)" ng-model-options="{ updateOn: 'default blur', debounce: {'default': 1000, 'blur': 0} }" class="form-control"></textarea> </div> </form> <hr> <h4 style="font-weight: 600!important; margin-top: 40px">Compromisos {{matricula.year}}</h4> <div class="row"> <div class="form-group col-lg-3 col-md-3 col-sm-6 col-xs-12"> <label>Aplicar para este año {{ ::USER.year }}:</label> <div><span uib-tooltip="Este año, el estudiante obtiene..." tooltip-popup-delay="400"> <ui-select ng-model="matricula.efectuar_una" on-select="guardarValor(matricula, 'efectuar_una', matricula.efectuar_una.opcion)" theme="select2" style="width: 100%;"> <ui-select-match placeholder="Recomendación" allow-clear="true">{{$select.selected.opcion}}</ui-select-match> <ui-select-choices repeat="programar in opciones_programar | filter: $select.search"> <div ng-bind-html="programar.opcion | highlight: $select.search"></div> </ui-select-choices> </ui-select></span></div> </div> <div ng-show="matricula.efectuar_una" class="form-group col-lg-9 col-sm-6 col-xs-12"> <label>Descripción de recomendación</label> <textarea ng-model="matricula.descripcion_efectuada" placeholder="Observaciones" uib-tooltip="Observaciones" tooltip-popup-delay="500" style="height: 50px; width: 100%;" ng-change="guardarValor(matricula, 'descripcion_efectuada', matricula.descripcion_efectuada)" ng-model-options="{ updateOn: 'default blur', debounce: {'default': 1000, 'blur': 0} }" class="form-control"></textarea> </div> </div> <div class="row"> <div class="form-group col-lg-3 col-md-3 col-sm-6 col-xs-12"> <label>Programar para el {{ ::USER.year + 1 }}:</label> <p><i> Durante el {{ ::USER.year }} se decide que el estudiante entrará con compromiso en el próximo año {{ ::USER.year + 1 }}</i></p> <div><span uib-tooltip="Programar o recomendar algo al estudiante o acudiente" tooltip-popup-delay="400"> <ui-select ng-model="matricula.programar" on-select="guardarValor(matricula, 'programar', matricula.programar.opcion)" theme="select2" style="width: 100%;"> <ui-select-match placeholder="Recomendación" allow-clear="true">{{$select.selected.opcion}}</ui-select-match> <ui-select-choices repeat="programar in opciones_programar | filter: $select.search"> <div ng-bind-html="programar.opcion | highlight: $select.search"></div> </ui-select-choices> </ui-select></span></div> </div> <div ng-show="matricula.programar" style="margin-top: 53px;" class="form-group col-lg-9 col-sm-6 col-xs-12"> <label>Descripción de recomendación</label> <textarea ng-model="matricula.descripcion_recomendacion" placeholder="Observaciones" uib-tooltip="Observaciones" tooltip-popup-delay="500" style="height: 50px; width: 100%;" ng-change="guardarValor(matricula, 'descripcion_recomendacion', matricula.descripcion_recomendacion)" ng-model-options="{ updateOn: 'default blur', debounce: {'default': 1000, 'blur': 0} }" class="form-control"></textarea> </div> </div> </div> </uib-accordion> </div> </div>